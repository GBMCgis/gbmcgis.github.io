
<!--

viewpoint farms
-->
<!DOCTYPE html>
<html>
<head>
  <title></title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
  <link  href="https://code.jquery.com/ui/1.12.1/themes/smoothness/jquery-ui.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"></script>

  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/esri-leaflet/dist/esri-leaflet.js"></script>
  <link rel="stylesheet" href="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.css" />
  <script src="https://ppete2.github.io/Leaflet.PolylineMeasure/Leaflet.PolylineMeasure.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/esri-leaflet-geocoder@2.2.12/dist/esri-leaflet-geocoder.css">
  <script src="https://unpkg.com/esri-leaflet-geocoder@2.2.12/dist/esri-leaflet-geocoder.js"></script>
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.4/dist/MarkerCluster.Default.css">
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.4/dist/MarkerCluster.css">
  <script src="https://unpkg.com/leaflet.markercluster@1.0.4/dist/leaflet.markercluster.js"></script>


  <style>
    body {
        padding: 0;
        margin: 0;
    }
    html, body, #map {
        height: 100%;
        width: 100%;
        position: fixed;
    }
    li{
      padding: 0.5em;
      font-size: 0.9em;
    }
    #pixelValue {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 1000;
      background: white;
      padding: 1em;
    }
    .modal-dialog{
       position: relative;
       display: table;
       overflow-y: auto;
       overflow-x: auto;
       width: auto;
       min-width: 75%;
    }
    iframe {
      width:100%;
      height:500px;
    }

    .counter {
      font-size: 20px;
    }

    .animate {
      color: black;
      position: absolute;
      top: 10px;
      left: 10px;
    }
  </style>
</head>

<body id="body">




<div class="modal fade" id="feature_modal" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">

        <h4 class="modal-title text-primary" id="feature_modal_title"></h4>
      </div>

      <div class="modal-body" id="feature_modal_body">
    </div>


      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->





<div id="map"></div>

<!--<div id="pixelValue" class="leaflet-bar">Click map for elevation</div>-->

<script>

$("#feature_modal").on("hidden.bs.modal", function () {
  $('#videoTab').html("");

});

var map = L.map('map').setView([33.69879717851967, -94.43568706512453], 16);

var esri_aerial_firefly = L.esri.basemapLayer('ImageryFirefly').addTo(map);

var transportation = L.esri.basemapLayer('ImageryTransportation').addTo(map);

var streets = L.esri.basemapLayer('Streets');

var adop = L.esri.imageMapLayer({
url: 'https://gis.arkansas.gov/arcgis/rest/services/ImageServices/IMAGERY_1FT_2017/ImageServer'
});

///Hillshade DEM
var renderingRule = {
  "rasterFunction":"Hillshade",
  "rasterFunctionArguments": {
    "Azimuth":315,
    "Altitude":45,
    "ZFactor":1
  },"variableName":"DEM"
};

var dem = L.esri.imageMapLayer({
  url: 'https://gis.arkansas.gov/arcgis/rest/services/ImageServices/DEM_1M_2018/ImageServer',
  renderingRule: renderingRule
});







var reachesLayer = L.geoJson(null);
var reaches = L.geoJson(null, {
    onEachFeature: function (feature, layer)
  {
    layer.on({
      click: function (e) {
        $("#feature_modal").modal("show");
        $('#feature_modal_body').html("<iframe src='" + feature.properties.URL + "' frameborder='0' allow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture' allowfullscreen></iframe>");
        $('#imagesTab').html("<div role='tabpanel'> <ul class='nav nav-tabs' role='tablist'> <li role='presentation' class='nav-item'> <a class='nav-link' href='#tab2' aria-controls='tab2' role='tab' data-toggle='tab'>Proposed Stream Buffer Enhancement</a> </li><li role='presentation' class='nav-item'> <a class='nav-link' href='#tab3' aria-controls='tab3' role='tab' data-toggle='tab'>Proposed Stream Bank Stabilization / Buffer Enhancement</a> </li></ul> <div class='tab-content'> <div role='tabpanel' class='tab-pane' id='tab2'> <iframe src='https://drive.google.com/embeddedfolderview?id=1LaPzL8E07NMWZX8yr3le0DtvnTMVS7S3#grid' style='width:100%; border:0;'></iframe> </div><div role='tabpanel' class='tab-pane' id='tab3'> <iframe src='https://drive.google.com/embeddedfolderview?id=11etAIAXN8cLQElX-hoaHEXvToSbTLXob#grid' style='width:100%; border:0;'></iframe> </div></div></div>");
      }
    })
  },
  style: function (feature) {
    switch (feature.properties.NAME) {
        case 'DarkBlue':
          return {
            weight: '0.0',
            fillColor: '#0067a5',
            color: '#000000',
            weight: '1.5',
            dashArray: '',
            opacity: '1.0',
            fillOpacity: '0.5',
          };
          break;
        case 'Green':
          return {
            weight: '0.0',
            fillColor: '#008856',
            color: '#000000',
            weight: '1.5',
            dashArray: '',
            opacity: '1.0',
            fillOpacity: '0.5',
          };
          break;
        case 'LightBlue':
          return {
            weight: '0.0',
            fillColor: '#a1caf1',
            color: '#000000',
            weight: '1.5',
            dashArray: '',
            opacity: '1.0',
            fillOpacity: '0.5',
          };
          break;
        case 'LightGreen':
          return {
            weight: '0.0',
            fillColor: '#8db600',
            color: '#000000',
            weight: '1.5',
            dashArray: '',
            opacity: '1.0',
            fillOpacity: '0.5',
          };
          break;
        case 'Pink':
          return {
            weight: '0.0',
            fillColor: '#FFC0CB',
            color: '#000000',
            weight: '1.5',
            dashArray: '',
            opacity: '1.0',
            fillOpacity: '0.5',
          };
          break;
        case 'Purple':
          return {
            weight: '0.0',
            fillColor: '#875692',
            color: '#000000',
            weight: '1.5',
            dashArray: '',
            opacity: '1.0',
            fillOpacity: '0.5',
          };
          break;
        case 'Red':
          return {
            weight: '0.0',
            fillColor: '#be0032',
            color: '#000000',
            weight: '1.5',
            dashArray: '',
            opacity: '1.0',
            fillOpacity: '0.5',
          };
          break;
        case 'Yellow':
          return {
            weight: '0.0',
            fillColor: '#dcd300',
            color: '#000000',
            weight: '1.5',
            dashArray: '',
            opacity: '1.0',
            fillOpacity: '0.5',
          };
          break;
      }
    }
}).addTo(map);

$.getJSON("reaches.geojson", function (data){
  reaches.addData(data);
});

var propboundLayer = L.geoJson(null);
var propbound = L.geoJson(null, {
    onEachFeature: function (feature, layer)
  {

  },
  style: function (feature) {
    return {
      weight: '3.0',
      fillColor: '#0067a5',
      color: '#FF0000',
      weight: '3.0',
      dashArray: '',
      opacity: '1.0',
      fillOpacity: '0.0',
    };
    }
}).addTo(map);

$.getJSON("PropertyBoundary.geojson", function (data){
  propbound.addData(data);
});


var gbmcpics = {
"type": "FeatureCollection",
"name": "gbmcpics",
"crs": { "type": "name", "properties": { "name": "urn:ogc:def:crs:OGC:1.3:CRS84" } },
"features": [
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "1mcKa6rBy_Gn8G5AqjZo5CUmVrCl3HwS0", "descriptio": "proposed stream bank stabilization" }, "geometry": { "type": "Point", "coordinates": [ -94.43179539649185, 33.702652784995522 ] } },
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "1UYplp4coeM_CPqheCp_eJlLgTTC-JcTA", "descriptio": "proposed stream bank stabilization" }, "geometry": { "type": "Point", "coordinates": [ -94.431687903741803, 33.703142264547402 ] } },
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "1p6gbauj1FPCJuqd5PAPWARJuiD_4wTkE", "descriptio": "proposed stream preservation" }, "geometry": { "type": "Point", "coordinates": [ -94.432628999577943, 33.705619000335609 ] } },
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "1TonQzsFtEyJBO4qbmbwUeh2ZAhNuBzZe", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.431728000352578, 33.703346000338541 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "1j99sHsItdP41lnfNLt8fCHof9SyaRlke", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.428745999744393, 33.704495999966618 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "1gosInp3xK9dq-DUVRpiY9Lyqm17Dnriu", "descriptio": "proposed stream bank stabilization" }, "geometry": { "type": "Point", "coordinates": [ -94.428475000188641, 33.703702999947048 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "1O-MWoob1TC22i2suiZ4K7FHmpuTPPdNN", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.427867000282063, 33.705340000139813 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "1GHMrCyOWLuBgF2eb7qKuvuJFTD1Rbs9j", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.427353000293706, 33.702776000277538 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "15oWiaKO0Bjn-DsnOd6V8YM5fnACMXwot", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.428573000501089, 33.702002000180386 ] } },
{ "type": "Feature", "properties": { "COLOR": "Pink", "gid": "16rNTcLEf5A9tlv9qZBENDXpcrb48hrSG", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.429600000324143, 33.693089000408641 ] } },
{ "type": "Feature", "properties": { "COLOR": "Pink", "gid": "16MjO1UWSjA_B19hhGC83uSRS_jRBN4HU", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.429804000449082, 33.692909000020755 ] } },
{ "type": "Feature", "properties": { "COLOR": "Pink", "gid": "1-623N65Hhi51GDmuxRzSI8f83X3RZ2im", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.429370000493307, 33.692465999603165 ] } },
{ "type": "Feature", "properties": { "COLOR": "Pink", "gid": "1dn1-n1htpi--nBFO1fk0ZD9yifhLhzrm", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.431539000320527, 33.694681999906287 ] } },
{ "type": "Feature", "properties": { "COLOR": "Pink", "gid": "1d6oJogzJ3jT3iDdnz45XcQuSPjR1R1WL", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.430618000188147, 33.693381999793559 ] } },
{ "type": "Feature", "properties": { "COLOR": "Purple", "gid": "19zK3AcuIvL9QWeLHKiIxnF8DDeLP2AWc", "descriptio": "proposed hydrologic enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.428384000299943, 33.692494999900568 ] } },
{ "type": "Feature", "properties": { "COLOR": "DarkBlue", "gid": "1B5vYYXXfhgV-UsylnOJ-K1axo4ap9TIn", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.431833999758766, 33.69418599995975 ] } },
{ "type": "Feature", "properties": { "COLOR": "DarkBlue", "gid": "1eLskh9vNgUtjRDEBxQRulrwGzsBeqwAl", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.432936000089768, 33.695079000246309 ] } },
{ "type": "Feature", "properties": { "COLOR": "DarkBlue", "gid": "1y0jLGi5KD2mibLvmt2KsOxTO-GoE6OG-", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.433246999638357, 33.696192999756008 ] } },
{ "type": "Feature", "properties": { "COLOR": "DarkBlue", "gid": "1TEf15RQaA0Ve9p74dzPCiAs9b3J-zn2K", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.434413000106233, 33.697105999847054 ] } },
{ "type": "Feature", "properties": { "COLOR": "DarkBlue", "gid": "1XRccmU3j_LDJx_mJ2ZakA1k75slJDiZl", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.434443999762792, 33.697030000038147 ] } },
{ "type": "Feature", "properties": { "COLOR": "DarkBlue", "gid": "1R8ZHYC0axKb_yoBBbpEsTdyUFc_RFFUW", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.435828000209824, 33.697995999848509 ] } },
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "1i9nTPGigRy-cLnEqbVO98Ql7_3h_DIMU", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.432019999693239, 33.700870999921008 ] } },
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "1QZKAhax-NiaeqW_FickBhe6u82t9ypcY", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.4315880003617, 33.699352999561512 ] } },
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "12a5zah3teS4d9mdsD0CCzl2qjzWSgwoK", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.430967999462766, 33.698774999752722 ] } },
{ "type": "Feature", "properties": { "COLOR": "LightBlue", "gid": "1hWvj4UNBLStZTFdUZa688IoyN1xdfcJt", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.431156000045121, 33.697664999977981 ] } },
{ "type": "Feature", "properties": { "COLOR": "LightBlue", "gid": "1-FYYCqRTKruYrfPZLfppWjzHmZBR8LDr", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.430584000464179, 33.697097999547267 ] } },
{ "type": "Feature", "properties": { "COLOR": "LightBlue", "gid": "195f-D7zxZA-WYywRWP1hgVZMg6p-iwTk", "descriptio": "proposed hydrologic enhancement\/bank stabilization" }, "geometry": { "type": "Point", "coordinates": [ -94.429428000172365, 33.695680000159591 ] } },
{ "type": "Feature", "properties": { "COLOR": "Purple", "gid": "1y7DqgA3fToFD19GUQmWoc0zwN84KxSY5", "descriptio": "proposed stream buffer enhancement\/hydrologic enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.429191000495223, 33.694683000291363 ] } },
{ "type": "Feature", "properties": { "COLOR": "Purple", "gid": "1WGPeIy5CJIrfwe7GWniOmD3Cm8erIfNF", "descriptio": "proposed hydrologic enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.428654000348089, 33.694041999682312 ] } },
{ "type": "Feature", "properties": { "COLOR": "Yellow", "gid": "16xeT5zZHUUGkWXfk5zIYPHZhkhMlI5-C", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.444208000047198, 33.692410000349092 ] } },
{ "type": "Feature", "properties": { "COLOR": "Yellow", "gid": "1DU36v9VHh-QKtqgf_7bKxFXXy7F6H_aT", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.443974999644794, 33.692082000112478 ] } },
{ "type": "Feature", "properties": { "COLOR": "LightGreen", "gid": "1Bzs25Ap-gzx05ATCwcyDm8e1u0RCTJ7C", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.44203900026119, 33.698852999774253 ] } },
{ "type": "Feature", "properties": { "COLOR": "Yellow", "gid": "1rFroH3gqdHTMsXqOhNwZ4C36Mwc4FVEx", "descriptio": "proposed stream buffer enhancement\/hydrologic enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.441026000199685, 33.693587999689662 ] } },
{ "type": "Feature", "properties": { "COLOR": "LightGreen", "gid": "1R9fgVGTVgBpGfNxyWUSYlaDb6FgPzMGT", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.44140600040636, 33.697186999911459 ] } },
{ "type": "Feature", "properties": { "COLOR": "Purple", "gid": "11P5iPJ5jj5eaw-b2MWY71AsM1rjg8vNX", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.428434999839411, 33.692980999830489 ] } },
{ "type": "Feature", "properties": { "COLOR": "LightBlue", "gid": "1R3vk_PP3JpbnGTgPUkkmPFUiaY_9QTtr", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.430584000464179, 33.697097999547267 ] } },
{ "type": "Feature", "properties": { "COLOR": "LightBlue", "gid": "1tge2tgZpCf8vwriZBZ_tc3h0NxzcMGUu", "descriptio": "proposed stream preservation" }, "geometry": { "type": "Point", "coordinates": [ -94.429428000172365, 33.695680000159591 ] } },
{ "type": "Feature", "properties": { "COLOR": "Yellow", "gid": "1ybIUiDBskz4O3F9WFl2fYXNORBkes7Em", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.443974999644794, 33.692082000112478 ] } },
{ "type": "Feature", "properties": { "COLOR": "LightGreen", "gid": "11e0Hj-uRLGgE2fCg9m8-0Da5nj7hq8Ks", "descriptio": "proposed stream buffer enhancement\/hydrologic enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.44203900026119, 33.698852999774253 ] } },
{ "type": "Feature", "properties": { "COLOR": "Yellow", "gid": "17RoxpYP6qtBtU_Wu6DdO-vAHDpa_rb5U", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.441026000199685, 33.693587999689662 ] } },
{ "type": "Feature", "properties": { "COLOR": "LightGreen", "gid": "15pjNYP1MjiQeDxNcWs1Ka2k976S_0e-p", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.44140600040636, 33.697186999911459 ] } },
{ "type": "Feature", "properties": { "COLOR": "Purple", "gid": "11VXYxv0XAVAzeAlmkX2G91HZEKMB6hnZ", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.428434999839411, 33.692980999830489 ] } },
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "1G9rHljo1mbx1g9Q0Z1E7FmTEyxVHhtVZ", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.43179539649185, 33.702652784995522 ] } },
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "1khpXE8rlf20GxrqvcFjvUSL2wbrV2OAu", "descriptio": "proposed stream bank stabilization" }, "geometry": { "type": "Point", "coordinates": [ -94.432628999577943, 33.705619000335609 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "1WMFiDQc26WoZLIHbKHiV8X0C4czlPhmx", "descriptio": "proposed stream bank stabilization" }, "geometry": { "type": "Point", "coordinates": [ -94.428475000188641, 33.703702999947048 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "1iTw-jV5MRQU0-o9jOObya16dF7GQfLju", "descriptio": "proposed hydrologic enhancement\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.427867000282063, 33.705340000139813 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "1OXnVvJ_whdU2-w3_H5aahJUHcVRmAdGu", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.427353000293706, 33.702776000277538 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "1JalaWv7rBYCG-qt6qu_eBlo6ffCenzkw", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.428573000501089, 33.702002000180386 ] } },
{ "type": "Feature", "properties": { "COLOR": "Pink", "gid": "1rbWUljOwlnz17TH-eFCgHKW-Egs9Nx_m", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.429804000449082, 33.692909000020755 ] } },
{ "type": "Feature", "properties": { "COLOR": "Pink", "gid": "1Ig3WZ4thghzb2sYWunJgrlBkFeEBzv30", "descriptio": "proposed stream buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.431539000320527, 33.694681999906287 ] } },
{ "type": "Feature", "properties": { "COLOR": "Purple", "gid": "1Ls6_IogQPrzcxMtycaql8NSkyqKM5sR9", "descriptio": "proposed hydrologic enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.428384000299943, 33.692494999900568 ] } },
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "1iP1O2Sjx56HKavdkYm0DfodyfZCQFkTu", "descriptio": "proposed hydrologic enhacement" }, "geometry": { "type": "Point", "coordinates": [ -94.431728000352578, 33.703346000338541 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "1l9whcMIqXVGK0s_KlxECd8lEX_cGB_cl", "descriptio": "proposed stream bank stabilization\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.428745999744393, 33.704495999966618 ] } },
{ "type": "Feature", "properties": { "COLOR": "Red", "gid": "1Zv6Pq0yzXVkwVmBwJuKWF1Xn9abEGnA4", "descriptio": "proposed hydrologic enhacement" }, "geometry": { "type": "Point", "coordinates": [ -94.431728000352578, 33.703346000338541 ] } },
{ "type": "Feature", "properties": { "COLOR": "Green", "gid": "1NR9oSsKja-s68ABRRZ3t-kA6mJ3B_Lvu", "descriptio": "proposed hydrologic enhancement\/buffer enhancement" }, "geometry": { "type": "Point", "coordinates": [ -94.428745999744393, 33.704495999966618 ] } }
]
}





var projectMarkers = L.markerClusterGroup({
  /*
  iconCreateFunction: function (cluster) {
    var markers = cluster.getAllChildMarkers();

    var html = '<div class="circle">' + markers.length + '</div>'
    return L.divIcon({ html: html, className: 'mycluster', iconSize: L.point(40, 40) });
  },
  */
});
var gbmcpics = L.geoJSON(gbmcpics, {
  onEachFeature: function(feature, layer){
    layer.on({
      click: function (e) {
        $("#feature_modal").modal("show");
        $('#feature_modal_body').html('<iframe src="https://drive.google.com/file/d/' + feature.properties.gid + '/preview"></iframe><br><p>' + feature.properties.descriptio + '</p>' );
      }
    })
  /*  layer.setIcon(L.AwesomeMarkers.icon({
      prefix: 'fa', //font awesome rather than bootstrap
      markerColor: 'red', // see colors above
      icon: 'bacon', //http://fortawesome.github.io/Font-Awesome/icons/
      iconColor: 'white',
      spin: true
    })) */
    /*
    if (feature.properties.COLOR == 'DarkBlue') {
      layer.setIcon(ongoing_project_icon);
    }
    else if (feature.properties.COLOR == 'Yellow') {
      layer.setIcon(completed_project_icon);
    }
    */
  }
}).addTo(projectMarkers)

$.getJSON("gbmcpics.geojson", function (data){
  gbmcpics.addData(data);
});

map.addLayer(projectMarkers);



/* AGIO Geocoder
var agioGeocoder = window.L.esri.Geocoding.geocodeServiceProvider({
  url: 'https://gis.arkansas.gov/arcgis/rest/services/Locator/ASDI_Composite_Locator/GeocodeServer'
});

var searchControl = window.L.esri.Geocoding.geosearch({
  providers: [agioGeocoder],
  position: 'topleft',
  zoomToResult: true,
  useMapBounds: false,
  allowMultipleResults: false,
  expanded: true
}).addTo(map);
*/

/* Identify Elevation
var identifiedPixel;
var pane = document.getElementById('pixelValue');

map.on('click', function (e) {
    if(identifiedPixel){
        pane.innerHTML = 'Loading';
    }
    dem.identify().at(e.latlng).run(function(error, results){
        identifiedPixel = results.pixel;
        pane.innerHTML = identifiedPixel.properties.value + 'm';
    });
});
*/

/* Measure tool
options = {
  position: 'bottomright'
}

L.control.polylineMeasure(options).addTo(map);
*/

//Layer Control
var baseMaps = {
    "Aerial": esri_aerial_firefly,
    "ADOP 2017": adop,
    "Hillshade DEM": dem,
    "ESRI Streetmap": streets,
    //"OSM": osm,

};

var overlayMaps = {};

L.control.layers(baseMaps, overlayMaps, {collapsed:false, position:'bottomleft'}).addTo(map);



</script>

</body>
</html>
